{"id":331,"date":"2008-06-03T20:56:34","date_gmt":"2008-06-04T01:56:34","guid":{"rendered":"http:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/331"},"modified":"2008-06-03T20:56:34","modified_gmt":"2008-06-04T01:56:34","slug":"velocity-a-rockin-distributed-in-memory-cache-for-aspnet","status":"publish","type":"post","link":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/331","title":{"rendered":"Velocity &#8212; a rockin&#8217; distributed in memory cache for ASP.NET"},"content":{"rendered":"<p>Velocity, the code-name for a new in-memory distributed caching system for ASP.NET was released as a Community Tech Preview today.<\/p>\n<p>What is it? It&#8217;s described in the documentation:<\/p>\n<blockquote>\n<p>Microsoft project code named &#8220;Velocity&#8221; provides a highly scalable in-memory application cache for all kinds of data. By using cache, your application performance can improve significantly by avoiding unnecessary calls to the data source.  <\/p>\n<p>By using distributed cache, your application can scale to match an increasing demand with increasing throughput. &#8220;Velocity&#8221; distributed cache is provided in the form of a cache cluster, simplifying your application code by managing the complexities of load balancing behind the scenes. <\/p>\n<p>When you use &#8220;Velocity,&#8221; you can retrieve data by using keys or other identifiers, called tags. <\/p>\n<\/blockquote>\n<p>Download for CTP 1 is <a href=\"http:\/\/www.microsoft.com\/downloads\/details.aspx?FamilyId=B24C3708-EEFF-4055-A867-19B5851E7CD2&amp;displaylang=en\">here<\/a>.<\/p>\n<p>Run the installation &#8212; and at the end you&#8217;ll be asked a few simple starter questions:<\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image.png\"><img loading=\"lazy\" height=\"343\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image-thumb.png\" width=\"450\" border=\"0\"\/><\/a> <\/p>\n<p>The settings above can be adjusted later if you don&#8217;t like them. Unblock the EXE in your firewall settings if needed (I didn&#8217;t need to when using localhost as my destination server as shown below).<\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image1.png\"><img loading=\"lazy\" height=\"193\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image-thumb1.png\" width=\"322\" border=\"0\"\/><\/a> <\/p>\n<p>Installed. Create a new web site in Visual Studio 2008:<\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image2.png\"><img loading=\"lazy\" height=\"346\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image-thumb2.png\" width=\"450\" border=\"0\"\/><\/a><\/p>\n<p>Add a reference to pull in the necessary settings into your web site: <\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image3.png\"><img loading=\"lazy\" height=\"300\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image-thumb3.png\" width=\"250\" border=\"0\"\/><\/a> <\/p>\n<p>You&#8217;ll need to reference a few assemblies. The simplest way to get them all is to reference them directly (rather than copying them as the instructions say). VS 2008 won&#8217;t complain.The following files are needed:<\/p>\n<p><b>CacheBaseLibrary.dll<\/b>, <b>ClientLibrary.dll<\/b>, <b>FabricCommon.dll<\/b>, <b>CASBase.dll<\/b>, and <b>CASClient.dll<\/b><\/p>\n<p>&nbsp;<\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image4.png\"><img loading=\"lazy\" height=\"475\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image-thumb4.png\" width=\"450\" border=\"0\"\/><\/a> <\/p>\n<p>Next, adjust the web.config file per the instructions. <\/p>\n<p>I tweaked the dcacheClient settings to match those I set when the first installed Velocity.<\/p>\n<pre class=\"code\"><span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">dcacheClient <\/span><span style=\"color: red\">deployment<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">simple<\/span>\" <span style=\"color: red\">localCache<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">false<\/span>\"<span style=\"color: blue\">&gt;\n    &lt;<\/span><span style=\"color: #a31515\">hosts<\/span><span style=\"color: blue\">&gt;\n        &lt;!--<\/span><span style=\"color: green\">List of hosts <\/span><span style=\"color: blue\">--&gt;\n        &lt;<\/span><span style=\"color: #a31515\">host <\/span><span style=\"color: red\">name<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">localhost<\/span>\" <span style=\"color: red\">cachePort<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">22233<\/span>\" <span style=\"color: red\">cacheHostName<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">MyCluster<\/span>\"<span style=\"color: blue\">\/&gt;\n    &lt;\/<\/span><span style=\"color: #a31515\">hosts<\/span><span style=\"color: blue\">&gt;\n&lt;\/<\/span><span style=\"color: #a31515\">dcacheClient<\/span><span style=\"color: blue\">&gt;<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<p>I added the required sections to the configSections in web.config, and also the &#8220;fabric&#8221; section:<\/p>\n<pre class=\"code\"><span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">configuration<\/span><span style=\"color: blue\">&gt;\n    &lt;<\/span><span style=\"color: #a31515\">configSections<\/span><span style=\"color: blue\">&gt;\n<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<pre class=\"code\">        <span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">section <\/span><span style=\"color: red\">name<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">dcacheClient<\/span>\" <span style=\"color: red\">type<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">System.Configuration.IgnoreSectionHandler<\/span>\" <span style=\"color: red\">allowLocation<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">true<\/span>\" <span style=\"color: red\">allowDefinition<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">Everywhere<\/span>\"<span style=\"color: blue\">\/&gt;\n        &lt;<\/span><span style=\"color: #a31515\">section <\/span><span style=\"color: red\">name<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">fabric<\/span>\" <span style=\"color: red\">type<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">System.Fabric.Common.ConfigFile, FabricCommon<\/span>\" <span style=\"color: red\">allowLocation<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">true<\/span>\" <span style=\"color: red\">allowDefinition<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">Everywhere<\/span>\"<span style=\"color: blue\">\/&gt;\n<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<pre class=\"code\"><span style=\"color: blue\">    &lt;\/<\/span><span style=\"color: #a31515\">configSections<\/span><span style=\"color: blue\">&gt;<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<pre class=\"code\">    <span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">fabric<\/span><span style=\"color: blue\">&gt;\n        &lt;<\/span><span style=\"color: #a31515\">section <\/span><span style=\"color: red\">name<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">logging<\/span>\" <span style=\"color: red\">path<\/span><span style=\"color: blue\">=<\/span>\"\"<span style=\"color: blue\">&gt;\n            &lt;<\/span><span style=\"color: #a31515\">collection <\/span><span style=\"color: red\">name<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">sinks<\/span>\" <span style=\"color: red\">collectionType<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">list<\/span>\"<span style=\"color: blue\">&gt;\n                &lt;<\/span><span style=\"color: #a31515\">customType <\/span><span style=\"color: red\">className<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">System.Fabric.Common.EventLogger,FabricCommon<\/span>\" <span style=\"color: red\">sinkName<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">System.Fabric.Common.ConsoleSink,FabricCommon<\/span>\" <span style=\"color: red\">sinkParam<\/span><span style=\"color: blue\">=<\/span>\"\" <span style=\"color: red\">defaultLevel<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">-1<\/span>\"<span style=\"color: blue\">\/&gt;\n                &lt;<\/span><span style=\"color: #a31515\">customType <\/span><span style=\"color: red\">className<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">System.Fabric.Common.EventLogger,FabricCommon<\/span>\" <span style=\"color: red\">sinkName<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">System.Fabric.Common.FileEventSink,FabricCommon<\/span>\" <span style=\"color: red\">sinkParam<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">CacheClientLog<\/span>\" <span style=\"color: red\">defaultLevel<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">1<\/span>\"<span style=\"color: blue\">\/&gt;\n                &lt;<\/span><span style=\"color: #a31515\">customType <\/span><span style=\"color: red\">className<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">System.Fabric.Common.EventLogger,FabricCommon<\/span>\" <span style=\"color: red\">sinkName<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">System.Data.Caching.ETWSink, CacheBaseLibrary<\/span>\" <span style=\"color: red\">sinkParam<\/span><span style=\"color: blue\">=<\/span>\"\" <span style=\"color: red\">defaultLevel<\/span><span style=\"color: blue\">=<\/span>\"<span style=\"color: blue\">-1<\/span>\"<span style=\"color: blue\">\/&gt;\n            &lt;\/<\/span><span style=\"color: #a31515\">collection<\/span><span style=\"color: blue\">&gt;\n        &lt;\/<\/span><span style=\"color: #a31515\">section<\/span><span style=\"color: blue\">&gt;\n    &lt;\/<\/span><span style=\"color: #a31515\">fabric<\/span><span style=\"color: blue\">&gt;\n<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<pre class=\"code\"><span style=\"color: blue\">&lt;\/<\/span><span style=\"color: #a31515\">configuration<\/span><span style=\"color: blue\">&gt;<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<p>Added some code, then run (the code I used is shown below).<\/p>\n<p>&nbsp;<\/p>\n<p>Unfortunately, this is the first error I encountered:<\/p>\n<p><i>Access to the path &#8216;C:\\Windows\\system32\\CacheClientLog.log&#8217; is denied.<\/i><\/p>\n<p>Since I&#8217;m using the ASP.NET Development Server, I started an administrative instance of notepad and created a blank CacheClientLog.log file in the directory. I then set full permissions on the file for my user account (aaron in my case). <\/p>\n<p>Next, I discovered that the service EXE hadn&#8217;t been properly installed. After some false-starts, I rebooted, and again, as an admin user, used the installutil.exe utility from the .NET SDK to install the service (as I had uinstalled it). Using the Services management console, I started the service, &#8220;DistributedCacheService.&#8221;<\/p>\n<p>Using the Velocity Administration tool, I verified that the host was now running:<\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image5.png\"><img loading=\"lazy\" height=\"183\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image-thumb5.png\" width=\"450\" border=\"0\"\/><\/a> <\/p>\n<p>(Silverwindow is the name of my laptop, a MacBook Pro running Windows Vista).<\/p>\n<p>For reasons I don&#8217;t understand, after rebooting, the location of the CacheClientLog.log location changed to here:<\/p>\n<p>C:\\Program Files\\Microsoft Visual Studio 9.0\\Common7\\IDE. <\/p>\n<p>So, I repeated the task of creating the empty file and associating the proper permissions as described above (again).<\/p>\n<p>Here&#8217;s what my sample application looked like.<\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image6.png\"><img loading=\"lazy\" style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"146\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image-thumb6.png\" width=\"294\" border=\"0\"\/><\/a> <\/p>\n<p>In the default.aspx page for my web site, I added a few controls:<\/p>\n<pre class=\"code\"><span style=\"background: #ffee62\">&lt;%<\/span><span style=\"color: blue\">@ <\/span><span style=\"color: #a31515\">Page <\/span><span style=\"color: red\">Language<\/span><span style=\"color: blue\">=\"C#\" <\/span><span style=\"color: red\">AutoEventWireup<\/span><span style=\"color: blue\">=\"true\"  <\/span><span style=\"color: red\">CodeFile<\/span><span style=\"color: blue\">=\"Default.aspx.cs\" <\/span><span style=\"color: red\">Inherits<\/span><span style=\"color: blue\">=\"_Default\" <\/span><span style=\"background: #ffee62\">%&gt;\n\n<\/span><span style=\"color: blue\">&lt;!<\/span><span style=\"color: #a31515\">DOCTYPE <\/span><span style=\"color: red\">html PUBLIC <\/span><span style=\"color: blue\">\"-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN\" <br \/>\"http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd\"&gt;\n\n&lt;<\/span><span style=\"color: #a31515\">html <\/span><span style=\"color: red\">xmlns<\/span><span style=\"color: blue\">=\"http:\/\/www.w3.org\/1999\/xhtml\"&gt;\n&lt;<\/span><span style=\"color: #a31515\">head <\/span><span style=\"color: red\">runat<\/span><span style=\"color: blue\">=\"server\"&gt;\n    &lt;<\/span><span style=\"color: #a31515\">title<\/span><span style=\"color: blue\">&gt;<\/span>Untitled Page<span style=\"color: blue\">&lt;\/<\/span><span style=\"color: #a31515\">title<\/span><span style=\"color: blue\">&gt;\n&lt;\/<\/span><span style=\"color: #a31515\">head<\/span><span style=\"color: blue\">&gt;\n&lt;<\/span><span style=\"color: #a31515\">body<\/span><span style=\"color: blue\">&gt;\n    &lt;<\/span><span style=\"color: #a31515\">form <\/span><span style=\"color: red\">id<\/span><span style=\"color: blue\">=\"form1\" <\/span><span style=\"color: red\">runat<\/span><span style=\"color: blue\">=\"server\"&gt;\n    &lt;<\/span><span style=\"color: #a31515\">div<\/span><span style=\"color: blue\">&gt;\n    \n        &lt;<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">TextBox <\/span><span style=\"color: red\">ID<\/span><span style=\"color: blue\">=\"txtToSet\" <\/span><span style=\"color: red\">runat<\/span><span style=\"color: blue\">=\"server\"&gt;&lt;\/<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">TextBox<\/span><span style=\"color: blue\">&gt;\n        &lt;<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">Button <\/span><span style=\"color: red\">ID<\/span><span style=\"color: blue\">=\"btnSetIntoCache\" <\/span><span style=\"color: red\">runat<\/span><span style=\"color: blue\">=\"server\" <br \/><\/span><span style=\"color: red\">            onclick<\/span><span style=\"color: blue\">=\"btnSetIntoCache_Click\" \n            <\/span><span style=\"color: red\">Text<\/span><span style=\"color: blue\">=\"Set\" \/&gt;\n        &lt;<\/span><span style=\"color: #a31515\">br <\/span><span style=\"color: blue\">\/&gt;\n        &lt;<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">Label <\/span><span style=\"color: red\">ID<\/span><span style=\"color: blue\">=\"lblValue\" <\/span><span style=\"color: red\">runat<\/span><span style=\"color: blue\">=\"server\"&gt;&lt;\/<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">Label<\/span><span style=\"color: blue\">&gt;\n        &lt;<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">Button <\/span><span style=\"color: red\">ID<\/span><span style=\"color: blue\">=\"btnGet\" <\/span><span style=\"color: red\">runat<\/span><span style=\"color: blue\">=\"server\" <br \/>             <\/span><span style=\"color: red\">onclick<\/span><span style=\"color: blue\">=\"btnGet_Click\" <\/span><span style=\"color: red\">Text<\/span><span style=\"color: blue\">=\"Get\" \/&gt;\n    &lt;\/<\/span><span style=\"color: #a31515\">div<\/span><span style=\"color: blue\">&gt;\n    &lt;\/<\/span><span style=\"color: #a31515\">form<\/span><span style=\"color: blue\">&gt;\n&lt;\/<\/span><span style=\"color: #a31515\">body<\/span><span style=\"color: blue\">&gt;\n&lt;\/<\/span><span style=\"color: #a31515\">html<\/span><span style=\"color: blue\">&gt;<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a>And, then in the code-behind:<\/p>\n<pre class=\"code\"><span style=\"color: blue\">using <\/span>System;\n<span style=\"color: blue\">using <\/span>System.Configuration;\n<span style=\"color: blue\">using <\/span>System.Data;\n<span style=\"color: blue\">using <\/span>System.Linq;\n<span style=\"color: blue\">using <\/span>System.Web;\n<span style=\"color: blue\">using <\/span>System.Web.Security;\n<span style=\"color: blue\">using <\/span>System.Web.UI;\n<span style=\"color: blue\">using <\/span>System.Web.UI.HtmlControls;\n<span style=\"color: blue\">using <\/span>System.Web.UI.WebControls;\n<span style=\"color: blue\">using <\/span>System.Web.UI.WebControls.WebParts;\n<span style=\"color: blue\">using <\/span>System.Xml.Linq;\n<span style=\"color: blue\">using <\/span>System.Data.Caching;\n\n<span style=\"color: blue\">public partial class <\/span><span style=\"color: #2b91af\">_Default <\/span>: System.Web.UI.<span style=\"color: #2b91af\">Page \n<\/span>{\n    <span style=\"color: blue\">protected void <\/span>Page_Load(<span style=\"color: blue\">object <\/span>sender, <span style=\"color: #2b91af\">EventArgs <\/span>e)\n    {\n\n    }\n    <span style=\"color: blue\">protected void <\/span>btnSetIntoCache_Click(<span style=\"color: blue\">object <\/span>sender, <span style=\"color: #2b91af\">EventArgs <\/span>e)\n    {\n        <span style=\"color: #2b91af\">CacheFactory <\/span>CacheCluster1 = <span style=\"color: blue\">new <\/span><span style=\"color: #2b91af\">CacheFactory<\/span>();\n        <span style=\"color: #2b91af\">Cache <\/span>cache1 = CacheCluster1.GetCache(<span style=\"color: #a31515\">\"default\"<\/span>);\n\n        cache1.Add(<span style=\"color: #a31515\">\"cacheThis\"<\/span>, txtToSet.Text);\n\n    }\n    <span style=\"color: blue\">protected void <\/span>btnGet_Click(<span style=\"color: blue\">object <\/span>sender, <span style=\"color: #2b91af\">EventArgs <\/span>e)\n    {\n        <span style=\"color: #2b91af\">CacheFactory <\/span>CacheCluster1 = <span style=\"color: blue\">new <\/span><span style=\"color: #2b91af\">CacheFactory<\/span>();\n        <span style=\"color: #2b91af\">Cache <\/span>cache1 = CacheCluster1.GetCache(<span style=\"color: #a31515\">\"default\"<\/span>);\n\n        lblValue.Text = (<span style=\"color: blue\">string<\/span>) cache1.Get(<span style=\"color: #a31515\">\"cacheThis\"<\/span>);\n    }\n}<\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a>&nbsp;<\/p>\n<p>The default cache I referred to in the test code is called default &#8212; as that&#8217;s the name that is specified in the ClusterConfig.xml file that was created during the installation.&nbsp; <\/p>\n<pre class=\"code\">    <span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">caches<\/span><span style=\"color: blue\">&gt;\n      &lt;<\/span><span style=\"color: #a31515\">cache <\/span><span style=\"color: red\">name<\/span><span style=\"color: blue\">=\"default\" <\/span><span style=\"color: red\">type<\/span><span style=\"color: blue\">=\"partitioned\"&gt;\n        &lt;<\/span><span style=\"color: #a31515\">policy<\/span><span style=\"color: blue\">&gt;\n          &lt;<\/span><span style=\"color: #a31515\">eviction <\/span><span style=\"color: red\">type<\/span><span style=\"color: blue\">=\"lru\" \/&gt;\n          &lt;<\/span><span style=\"color: #a31515\">expiration <\/span><span style=\"color: red\">isExpirable<\/span><span style=\"color: blue\">=\"true\" <\/span><span style=\"color: red\">defaultTTL<\/span><span style=\"color: blue\">=\"10\" \/&gt;\n        &lt;\/<\/span><span style=\"color: #a31515\">policy<\/span><span style=\"color: blue\">&gt;\n      &lt;\/<\/span><span style=\"color: #a31515\">cache<\/span><span style=\"color: blue\">&gt;\n    &lt;\/<\/span><span style=\"color: #a31515\">caches<\/span><span style=\"color: blue\">&gt;    \n<\/span><\/pre>\n<p>The location of the ClusterConfig.xml file is currently specified in the DistributedCache.exe.config file, which is installed here by default:<\/p>\n<p>C:\\Program Files\\Microsoft Distributed Cache\\V1.0\\DistributedCache.exe.config<\/p>\n<p>Run the web application. Set some value into the cache (using the &#8220;Set&#8221; button). Get it back out (&#8220;Get&#8221; button). Shut down the ASP.NET development server. Run the application again &#8212; you&#8217;ll see how the cached value is still there (assuming you haven&#8217;t waited too long). Cool.<\/p>\n<p>The cache can also store any .NET serializable object &#8212; not just strings.<\/p>\n<p>Microsoft project code named &#8220;Velocity&#8221; provides a highly scalable in-memory application cache for all kinds of data. By using cache, your application performance can improve significantly by avoiding unnecessary calls to the data source.\n<\/p>\n<p>By using distributed cache, your application can scale to match an increasing demand with increasing throughput. &#8220;Velocity&#8221; distributed cache is provided in the form of a cache cluster, simplifying your application code by managing the complexities of load balancing behind the scenes.\n<\/p>\n<p>When you use &#8220;Velocity,&#8221; you can retrieve data by using keys or other identifiers, called tags.\n<\/p>\n<p>Check it out for yourself. This is a great addition to ASP.NET and truly puts ASP.NET into the competitive &#8216;big-scale&#8217; enterprise application market without the need for expensive third party products. <\/p>\n","protected":false},"excerpt":{"rendered":"<p>Velocity, the code-name for a new in-memory distributed caching system for ASP.NET was released as a Community Tech Preview today. What is it? It&#8217;s described in the documentation: Microsoft project code named &#8220;Velocity&#8221; provides a highly scalable in-memory application cache for all kinds of data. By using cache, your application performance can improve significantly by [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false,"jetpack_publicize_feature_enabled":true},"categories":[4,8],"tags":[],"jetpack_publicize_connections":[],"jetpack_featured_media_url":"","jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/pd5QIe-5l","jetpack_likes_enabled":true,"jetpack-related-posts":[{"id":426,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/426","url_meta":{"origin":331,"position":0},"title":"Visual WebGUI &#8212; Uh? Neat technology for someone else.","date":"July 16, 2008","format":false,"excerpt":"At the top of the page linked above, you can try the Ajax version or the Silverlight version of their web-mail demo. Try it. I won't say that I'm not impressed by what they've accomplished technically. It's impressive. They use a WinForms designer to build parts of the user interface\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"image","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/07\/image-thumb2.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":217,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/217","url_meta":{"origin":331,"position":1},"title":"The ASP.NET Single Page Interface and AJAX Patterns","date":"May 9, 2008","format":false,"excerpt":"Posted on MSDN, by Dino Esposito, \"Single Page Interface and AJAX Patterns.\" What is it? From the article... Single-Page Interface Model To take full advantage of AJAX, you need to have all of your features, or at least most of them, in a single page. This is known as the\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":788,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/788","url_meta":{"origin":331,"position":2},"title":"Switched my web site to DreamHost","date":"June 7, 2009","format":false,"excerpt":"I switched from my ASP.NET host (at Crystal Tech) to a LAMP host (Dream Host). I really hadn\u2019t been using the ASP.NET features at all and the cost was about $10 more a month than I could spend elsewhere. After some searching, I decided on DreamHost. The prices are competitive,\u2026","rel":"","context":"In &quot;General&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":388,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/388","url_meta":{"origin":331,"position":3},"title":"Silverlight Weather Demonstration","date":"June 26, 2008","format":false,"excerpt":"Demonstration available here. (You'll need to wait for a moment while it loads the first time). I've created a reasonably simple, yet multi-technology (and discipline) demonstration using Silverlight for the user interface and ASP.NET as the back-end. The demonstration uses: Silverlight 2.0 Data binding Delayed downloading of images \"Web services\"\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image21.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":402,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/402","url_meta":{"origin":331,"position":4},"title":"Linking to functionality within a Silverlight application","date":"July 9, 2008","format":false,"excerpt":"When the ASP.NET 3.5 Extensions are released, it will be easier to manage the history of your Silverlight application, and provide working links to areas of functionality. Raj demonstrates a technique using the beta extensions from Silverlight. The technique uses the new addHistoryPoint method of Sys.Application. Yahoo has some code\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":2224,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/2224","url_meta":{"origin":331,"position":5},"title":"Flutter Demo application linking to BoardGameGeek.Com&#8217;s Hot Game List","date":"February 26, 2018","format":false,"excerpt":"I've built a slightly more interesting application using Flutter.\u00a0 Using an XML feed from BoardGameGeek's API, the application displays a list of the current hot games complete with thumbnail images. Here's the code. I used a standard Flutter app template and also added a few packages to the project. I've\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"Hulk Smash Layout","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2018\/02\/2018-02-26-19_45_39-Hulk-Smash-Meme-Generator-Imgflip.png?resize=350%2C200&ssl=1","width":350,"height":200},"classes":[]}],"_links":{"self":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts\/331"}],"collection":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/comments?post=331"}],"version-history":[{"count":0,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts\/331\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/media?parent=331"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/categories?post=331"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/tags?post=331"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}