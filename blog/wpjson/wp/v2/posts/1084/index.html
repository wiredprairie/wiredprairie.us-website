{"id":1084,"date":"2010-06-09T20:55:55","date_gmt":"2010-06-10T01:55:55","guid":{"rendered":"http:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/1084"},"modified":"2010-06-09T20:55:55","modified_gmt":"2010-06-10T01:55:55","slug":"silverlight-analogretro-flip-numbers","status":"publish","type":"post","link":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/1084","title":{"rendered":"Silverlight Analog\/Retro Flip Numbers"},"content":{"rendered":"<p>I\u2019m not sure what to call these exactly. I\u2019ve created a relatively simple Silverlight 4 control that emulates the old mechanical flip style numbers (or letters) displays found at airports and in old clock-radios. <\/p>\n<p><a title=\"Working demo\" href=\"http:\/\/www.wiredprairie.us\/examples\/silverlight\/RetroFlipper\/\" target=\"_blank\"><img loading=\"lazy\" style=\"border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2010\/06\/image.png\" width=\"402\" height=\"214\" \/><\/a> <\/p>\n<p>I call it the RetroFlipper.<\/p>\n<p>It\u2019s easy to use (at least for my needs). Declare an instance of the control in XAML:<\/p>\n<pre class=\"code\"><span style=\"color: red\">xmlns<\/span><span style=\"color: blue\">:<\/span><span style=\"color: red\">wpcontrols<\/span><span style=\"color: blue\">=&quot;clr-namespace:WiredPrairie.Controls;assembly=WiredPrairie.RetroFlipperControl&quot;             \n<\/span><\/pre>\n<p>&#160;<\/p>\n<pre class=\"code\">        <span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">wpcontrols<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">RetroFlipper <\/span><span style=\"color: red\">Margin<\/span><span style=\"color: blue\">=&quot;5,20&quot; \n                                 <\/span><span style=\"color: red\">x<\/span><span style=\"color: blue\">:<\/span><span style=\"color: red\">Name<\/span><span style=\"color: blue\">=&quot;numberFlip100&quot; <\/span><span style=\"color: red\">Grid.RowSpan<\/span><span style=\"color: blue\">=&quot;1&quot; <\/span><span style=\"color: red\">Grid.Column<\/span><span style=\"color: blue\">=&quot;1&quot;\/&gt;\n\n<\/span><\/pre>\n<p>And then respond to the \u201cFlipped\u201d event and set the \u201cText\u201d property as needed.<\/p>\n<pre class=\"code\">            numberFlip0.Flipped += <span style=\"color: blue\">new <\/span><span style=\"color: #2b91af\">EventHandler<\/span>(numberFlip1_Flipped);\n            numberFlip0.Text = <span style=\"color: #a31515\">&quot;0&quot;<\/span>; <span style=\"color: green\">\/\/(0, 0);\n\n<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<p>The default animation speed can be adjusted:<\/p>\n<pre class=\"code\">numberFlip0.AnimationSpeed = 1;<\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<p>It\u2019s a percentage \u2013 1.0 is the default. If you want the animation of the flip to be half speed for example, just set it to <strong>.5<\/strong>.<\/p>\n<p>The class that drives the demo is really simple:<\/p>\n<pre class=\"code\"><span style=\"color: blue\">public partial class <\/span><span style=\"color: #2b91af\">MainPage <\/span>: <span style=\"color: #2b91af\">UserControl\n<\/span>{\n    <span style=\"color: blue\">private <\/span><span style=\"color: #2b91af\">DispatcherTimer <\/span>_timer;\n    <span style=\"color: blue\">private int <\/span>_inc = 0;\n\n    <span style=\"color: blue\">public <\/span>MainPage()\n    {\n        InitializeComponent();\n        numberFlip0.Text = <span style=\"color: #a31515\">&quot;0&quot;<\/span>; <span style=\"color: green\">\/\/(0, 0);\n        <\/span>numberFlip0.AnimationSpeed = 1;\n        numberFlip10.Text = <span style=\"color: #a31515\">&quot;0&quot;<\/span>; <span style=\"color: green\">\/\/(0, 0);\n        <\/span>numberFlip10.AnimationSpeed = .7;\n        numberFlip100.Text = <span style=\"color: #a31515\">&quot;0&quot;<\/span>; <span style=\"color: green\">\/\/(0, 0);\n        <\/span>numberFlip100.AnimationSpeed = .4;\n        _timer = <span style=\"color: blue\">new <\/span><span style=\"color: #2b91af\">DispatcherTimer<\/span>();\n        _timer.Interval = <span style=\"color: #2b91af\">TimeSpan<\/span>.FromSeconds(.5);\n        _timer.Tick += <span style=\"color: blue\">new <\/span><span style=\"color: #2b91af\">EventHandler<\/span>(_timer_Tick); \n        \n    }\n\n    <span style=\"color: blue\">void <\/span>_timer_Tick(<span style=\"color: blue\">object <\/span>sender, <span style=\"color: #2b91af\">EventArgs <\/span>e)\n    {\n        <span style=\"color: blue\">int <\/span>current = _inc;\n        <span style=\"color: blue\">int <\/span>next = ++_inc;\n        <span style=\"color: blue\">if <\/span>(next % 10 == 0)\n        {\n            numberFlip10.Text = <span style=\"color: #2b91af\">Math<\/span>.Floor(next \/ 10 % 10).ToString(); \n        }\n        <span style=\"color: blue\">if <\/span>(next % 100 == 0)\n        {\n            numberFlip100.Text = <span style=\"color: #2b91af\">Math<\/span>.Floor(next \/ 100 % 100).ToString(); \n        }\n\n        numberFlip0.Text = (next % 10).ToString();            \n    }\n\n    <span style=\"color: blue\">private void <\/span>Button_Click(<span style=\"color: blue\">object <\/span>sender, System.Windows.<span style=\"color: #2b91af\">RoutedEventArgs <\/span>e)\n    {\n        _timer.Start();\n    }\n}<\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<p>(And no, it doesn\u2019t handle numbers &gt; 1000).<\/p>\n<p>Building the control required a few tricks. <\/p>\n<p>The most interesting was that I decided to use 4 layers to actually represent and animate the flip cards:<\/p>\n<p><img loading=\"lazy\" style=\"border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2010\/06\/image1.png\" width=\"277\" height=\"214\" \/> <\/p>\n<p>Using a few OpacityMasks<\/p>\n<pre class=\"code\"><span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">Border.OpacityMask<\/span><span style=\"color: blue\">&gt;\n    &lt;<\/span><span style=\"color: #a31515\">LinearGradientBrush <\/span><span style=\"color: red\">EndPoint<\/span><span style=\"color: blue\">=&quot;0.5,1&quot; <\/span><span style=\"color: red\">StartPoint<\/span><span style=\"color: blue\">=&quot;0.5,0&quot;&gt;\n        &lt;<\/span><span style=\"color: #a31515\">GradientStop <\/span><span style=\"color: red\">Color<\/span><span style=\"color: blue\">=&quot;Transparent&quot; <\/span><span style=\"color: red\">Offset<\/span><span style=\"color: blue\">=&quot;0.5&quot;\/&gt;\n        &lt;<\/span><span style=\"color: #a31515\">GradientStop <\/span><span style=\"color: red\">Color<\/span><span style=\"color: blue\">=&quot;Black&quot; <\/span><span style=\"color: red\">Offset<\/span><span style=\"color: blue\">=&quot;1&quot;\/&gt;\n        &lt;<\/span><span style=\"color: #a31515\">GradientStop <\/span><span style=\"color: red\">Color<\/span><span style=\"color: blue\">=&quot;Black&quot; <\/span><span style=\"color: red\">Offset<\/span><span style=\"color: blue\">=&quot;0.5&quot;\/&gt;\n        &lt;<\/span><span style=\"color: #a31515\">GradientStop <\/span><span style=\"color: red\">Color<\/span><span style=\"color: blue\">=&quot;Transparent&quot;\/&gt;\n    &lt;\/<\/span><span style=\"color: #a31515\">LinearGradientBrush<\/span><span style=\"color: blue\">&gt;\n&lt;\/<\/span><span style=\"color: #a31515\">Border.OpacityMask<\/span><span style=\"color: blue\">&gt;\n\n<\/span><\/pre>\n<p>and some creative PlaneProjection and animations,<\/p>\n<pre class=\"code\"><span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">DoubleAnimationUsingKeyFrames <\/span><span style=\"color: red\">Storyboard.TargetProperty<\/span><span style=\"color: blue\">=&quot;(UIElement.Projection).(PlaneProjection.RotationX)&quot; <\/span><span style=\"color: red\">Storyboard.TargetName<\/span><span style=\"color: blue\">=&quot;backBottom&quot;&gt;\n    &lt;<\/span><span style=\"color: #a31515\">EasingDoubleKeyFrame <\/span><span style=\"color: red\">KeyTime<\/span><span style=\"color: blue\">=&quot;0:0:0.17&quot; <\/span><span style=\"color: red\">Value<\/span><span style=\"color: blue\">=&quot;270&quot;\/&gt;\n    &lt;<\/span><span style=\"color: #a31515\">EasingDoubleKeyFrame <\/span><span style=\"color: red\">KeyTime<\/span><span style=\"color: blue\">=&quot;0:0:0.27&quot; <\/span><span style=\"color: red\">Value<\/span><span style=\"color: blue\">=&quot;180&quot;\/&gt;\n    &lt;<\/span><span style=\"color: #a31515\">EasingDoubleKeyFrame <\/span><span style=\"color: red\">KeyTime<\/span><span style=\"color: blue\">=&quot;0:0:0.30&quot; <\/span><span style=\"color: red\">Value<\/span><span style=\"color: blue\">=&quot;220&quot;\/&gt;\n    &lt;<\/span><span style=\"color: #a31515\">EasingDoubleKeyFrame <\/span><span style=\"color: red\">KeyTime<\/span><span style=\"color: blue\">=&quot;0:0:0.32&quot; <\/span><span style=\"color: red\">Value<\/span><span style=\"color: blue\">=&quot;180&quot;\/&gt;\n&lt;\/<\/span><span style=\"color: #a31515\">DoubleAnimationUsingKeyFrames<\/span><span style=\"color: blue\">&gt;\n<\/span><\/pre>\n<p>it\u2019s possible to create the illusion of the mechanical parts moving. <\/p>\n<p>Any text may be set into the Text property \u2013 it\u2019s automatically sized to fill. So, it could be words, double digits, anything you\u2019d like, as long as it\u2019s text.<\/p>\n<p>In any case, the demo is <a href=\"http:\/\/www.wiredprairie.us\/examples\/silverlight\/RetroFlipper\" target=\"_blank\">here<\/a>.<\/p>\n<p>The source code, licensed under BSD, is <a href=\"http:\/\/www.wiredprairie.us\/downloads\/RetroFlipper.zip\" target=\"_blank\">here<\/a>.<\/p>\n<p>Enjoy.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>I\u2019m not sure what to call these exactly. I\u2019ve created a relatively simple Silverlight 4 control that emulates the old mechanical flip style numbers (or letters) displays found at airports and in old clock-radios. I call it the RetroFlipper. It\u2019s easy to use (at least for my needs). Declare an instance of the control in [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false,"jetpack_publicize_feature_enabled":true},"categories":[4,14],"tags":[],"jetpack_publicize_connections":[],"jetpack_featured_media_url":"","jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/pd5QIe-hu","jetpack_likes_enabled":true,"jetpack-related-posts":[{"id":1016,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/1016","url_meta":{"origin":1084,"position":0},"title":"Silverlight vs. Flash vs. Photoshop Text Rendering","date":"March 24, 2010","format":false,"excerpt":"Curious about text rendering characteristics between Flash 10, Silverlight 4.0 and Photoshop, I created two small applications, one in Flash CS 4, and one in Visual Studio 2010. The Silverlight 4.0 tests are using the release candidate which was current as of March 23, 2010. I used Times New Roman\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"image","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2010\/03\/image_thumb.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":571,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/571","url_meta":{"origin":1084,"position":1},"title":"Silverlight 2, RC available","date":"September 26, 2008","format":false,"excerpt":"Via ScottGu, the Silverlight 2 Release Candidate is now available for download. Low-lights: No new go-live license for until the final version is released (the RC Silverlight binaries won't be made available to the general public) It has some breaking changes for code (details here). No RTF control (one can\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":633,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/633","url_meta":{"origin":1084,"position":2},"title":"A Silverlight 2 TilePanel","date":"December 14, 2008","format":false,"excerpt":"You may notice that the Silverlight TileBrush is missing some key properties which would enable it to actually tile a brush. The WPF TileBrush has properties such as TileMode, Viewbox, and ViewportUnits that can be used to tile an image as a fill or as a background for a UIElement.\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/12\/image1.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":1701,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/1701","url_meta":{"origin":1084,"position":3},"title":"Windows 8 WinRT\/Metro Missing UpdateSourceTrigger","date":"August 5, 2012","format":false,"excerpt":"If you\u2019ve done WPF or Silverlight programming, you may have found an occasion where using the Binding property UpdateSourceTrigger set to PropertyChanged was extremely useful. (I know I have!) It may have looked something like this: <TextBox Text=\"{Binding Path=Value, UpdateSourceTrigger=PropertyChanged}\" \/> The key feature was the live updating of the\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":723,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/723","url_meta":{"origin":1084,"position":4},"title":"Silverlight Stopwatch class in C#","date":"March 1, 2009","format":false,"excerpt":"I needed a simple method for doing some timings in Silverlight. Silverlight lacks the high performance query counter that is available natively in Windows (and available in .NET 3.5 for example), but it does have a TickCount. My code (mostly) mirrors the existing .NET Stopwatch class using the TickCount property\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":577,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/577","url_meta":{"origin":1084,"position":5},"title":"Silverlight Game Programming: Playing an Audio File","date":"October 12, 2008","format":false,"excerpt":"In my recent Silverlight game, there are a variety of sound effects that occur from bullet fires to explosions. Most of the audio files are brief, lasting only for a second or less on average. I had a few options -- put a MediaElement directly on the UI (in XAML)\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/10\/image2.png?resize=350%2C200","width":350,"height":200},"classes":[]}],"_links":{"self":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts\/1084"}],"collection":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/comments?post=1084"}],"version-history":[{"count":1,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts\/1084\/revisions"}],"predecessor-version":[{"id":1163,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts\/1084\/revisions\/1163"}],"wp:attachment":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/media?parent=1084"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/categories?post=1084"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/tags?post=1084"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}