{"id":458,"date":"2008-08-11T20:12:45","date_gmt":"2008-08-12T01:12:45","guid":{"rendered":"http:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/458"},"modified":"2008-08-11T20:12:45","modified_gmt":"2008-08-12T01:12:45","slug":"javascript-aspnet-data-templates-or-i-was-missing-data-templates-in-silverlight","status":"publish","type":"post","link":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/458","title":{"rendered":"JavaScript ASP.NET Data Templates (or, I was missing Data Templates in Silverlight &#8230;)"},"content":{"rendered":"<p>After you taste Data Templates in Silverlight and WPF, you won&#8217;t want to go back to your old way of building user interfaces. I mean seriously, do you like the idea of building a user interface by custom drawing a list box using various owner-drawn techniques like exist in Win32? I certainly don&#8217;t. Admittedly, there&#8217;s a certain amount of excitement and energy when the list box finally looks the way you wanted, after 20 hours of tweaking! :)<\/p>\n<p>So, I was experimenting with some HTML and JavaScript the other day and really wanted something like a Data Template. Nothing as powerful &#8212; but just the concept that if I just bring up the data, why can&#8217;t I easily specify the look and feel with a reusable block of HTML-like syntax? <\/p>\n<p>Now, certainly I could have used one of the many ASP.NET techniques for creating a user interface template on the server &#8212; building all of the HTML and sending it to the client. That&#8217;s so old school! I wanted the server to send just the framework\/shell, and send the data independently &#8212; unformatted, so that it could be both programmatically accessed and converted to a user interface. I could have used XSLT I suppose, if I again wanted to learn it, and I was comfortable retrieving data from the web server as XML. However, I didn&#8217;t want to relearn XSLT and I wanted JSON objects from the web server.<\/p>\n<p>My templates were born.<\/p>\n<p>There are a few pieces to creating a working system. First, a template file is needed:<\/p>\n<pre class=\"code\"><span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">div <\/span><span style=\"color: red\">style<\/span><span style=\"color: blue\">=\"\"<\/span><span style=\"color: #a31515\">font-size<\/span><span style=\"color: blue\">: <\/span>80%\"<span style=\"color: blue\">&gt;\n  &lt;<\/span><span style=\"color: #a31515\">h1<\/span><span style=\"color: blue\">&gt;\n    <\/span><span style=\"background: #ffee62\">&lt;%<\/span>{Path:\"Name\"} <span style=\"background: #ffee62\">%&gt;<\/span>    \n  <span style=\"color: blue\">&lt;\/<\/span><span style=\"color: #a31515\">h1<\/span><span style=\"color: blue\">&gt;\n  &lt;<\/span><span style=\"color: #a31515\">div <\/span><span style=\"color: red\">style<\/span><span style=\"color: blue\">=\"<\/span><span style=\"color: red\">margin-left<\/span>:<span style=\"color: blue\">20px<\/span>;<span style=\"color: blue\">\"&gt;\n    <\/span><span style=\"background: #ffee62\">&lt;%<\/span>{Path:\"Folders\", Template:\"Folder\"} <span style=\"background: #ffee62\">%&gt;<\/span>  \n  <span style=\"color: blue\">&lt;\/<\/span><span style=\"color: #a31515\">div<\/span><span style=\"color: blue\">&gt;  \n  &lt;<\/span><span style=\"color: #a31515\">ol<\/span><span style=\"color: blue\">&gt;\n    <\/span><span style=\"background: #ffee62\">&lt;%<\/span>{Path:\"Files\", Template:\"File\"} <span style=\"background: #ffee62\">%&gt;\n<\/span>  <span style=\"color: blue\">&lt;\/<\/span><span style=\"color: #a31515\">ol<\/span><span style=\"color: blue\">&gt;\n&lt;\/<\/span><span style=\"color: #a31515\">div<\/span><span style=\"color: blue\">&gt;<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a>Simple enough. The syntax should be roughly familiar to those of you with Silverlight or WPF data binding experience. Within the &lt;% and %&gt; a JSON object is constructed that maps to the property (name) and any sub-templates that should be applied to a property (for endless and potentially recursive fun!).<\/p>\n<p>These files, by default are placed in the App_Data folder in ASP.NET and are named TEMPLATENAME.template. By setting the default file type handler for these files to HTML, you can even edit them with Intellisense!<\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/08\/image2.png\"><img loading=\"lazy\" style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"203\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/08\/image-thumb1.png\" width=\"258\" border=\"0\"\/><\/a> <\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/08\/image3.png\"><img loading=\"lazy\" style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"178\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/08\/image-thumb2.png\" width=\"260\" border=\"0\"\/><\/a> <\/p>\n<p>Then, to power the template functionality, the templates must be downloaded and the JavaScript object must be downloaded:<\/p>\n<pre class=\"code\"><span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">ScriptManager <\/span><span style=\"color: red\">ID<\/span><span style=\"color: blue\">=\"ScriptManager1\" <\/span><span style=\"color: red\">runat<\/span><span style=\"color: blue\">=\"server\"&gt;   \n    &lt;<\/span><span style=\"color: #a31515\">Scripts<\/span><span style=\"color: blue\">&gt;\n        &lt;<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">ScriptReference <\/span><span style=\"color: red\">Path<\/span><span style=\"color: blue\">=\"~\/DataTemplate.js\" \/&gt;\n        &lt;<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">ScriptReference <\/span><span style=\"color: red\">Path<\/span><span style=\"color: blue\">=\"~\/DataTemplateDefinition.ashx?ID=folder,file\" \/&gt;\n    &lt;\/<\/span><span style=\"color: #a31515\">Scripts<\/span><span style=\"color: blue\">&gt;\n&lt;\/<\/span><span style=\"color: #a31515\">asp<\/span><span style=\"color: blue\">:<\/span><span style=\"color: #a31515\">ScriptManager<\/span><span style=\"color: blue\">&gt;\n<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<p> The second ScriptReference automatically downloads a JavaScript file containing the code necessary to construct the data templates.&nbsp; By default, they&#8217;re automatically set to be cached (you could change the code as needed).<\/p>\n<p>Finally, to construct the HTML&#8230;<\/p>\n<pre class=\"code\"><span style=\"color: blue\">var <\/span>templating = <span style=\"color: blue\">new <\/span>WiredPrairie.Data.Template();                        \n<span style=\"color: blue\">var <\/span>output = templating.toHTML(sampleData, <span style=\"color: #a31515\">\"Folder\"<\/span>);\n\n<span style=\"color: blue\">var <\/span>dd = $get(<span style=\"color: #a31515\">\"dyndata\"<\/span>);\ndd.innerHTML = output;<\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<p>The sample web page has an empty DIV element with an ID of dyndata &#8212; although it could be anything you want.<\/p>\n<pre class=\"code\">    <span style=\"color: blue\">&lt;<\/span><span style=\"color: #a31515\">div <\/span><span style=\"color: red\">id<\/span><span style=\"color: blue\">=\"dyndata\"&gt;\n    \n    &lt;\/<\/span><span style=\"color: #a31515\">div<\/span><span style=\"color: blue\">&gt;\n<\/span><\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a><\/p>\n<p>The code has been tested in Firefox 3.0 and IE 7. It requires the Microsoft ASP.NET Ajax JavaScript libraries.<\/p>\n<p>Download <a href=\"http:\/\/www.wiredprairie.us\/downloads\/DataTemplates1.zip\">here<\/a>.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>After you taste Data Templates in Silverlight and WPF, you won&#8217;t want to go back to your old way of building user interfaces. I mean seriously, do you like the idea of building a user interface by custom drawing a list box using various owner-drawn techniques like exist in Win32? I certainly don&#8217;t. Admittedly, there&#8217;s [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false,"jetpack_publicize_feature_enabled":true},"categories":[4],"tags":[],"jetpack_publicize_connections":[],"jetpack_featured_media_url":"","jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/pd5QIe-7o","jetpack_likes_enabled":true,"jetpack-related-posts":[{"id":426,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/426","url_meta":{"origin":458,"position":0},"title":"Visual WebGUI &#8212; Uh? Neat technology for someone else.","date":"July 16, 2008","format":false,"excerpt":"At the top of the page linked above, you can try the Ajax version or the Silverlight version of their web-mail demo. Try it. I won't say that I'm not impressed by what they've accomplished technically. It's impressive. They use a WinForms designer to build parts of the user interface\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"image","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/07\/image-thumb2.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":388,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/388","url_meta":{"origin":458,"position":1},"title":"Silverlight Weather Demonstration","date":"June 26, 2008","format":false,"excerpt":"Demonstration available here. (You'll need to wait for a moment while it loads the first time). I've created a reasonably simple, yet multi-technology (and discipline) demonstration using Silverlight for the user interface and ASP.NET as the back-end. The demonstration uses: Silverlight 2.0 Data binding Delayed downloading of images \"Web services\"\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image21.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":217,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/217","url_meta":{"origin":458,"position":2},"title":"The ASP.NET Single Page Interface and AJAX Patterns","date":"May 9, 2008","format":false,"excerpt":"Posted on MSDN, by Dino Esposito, \"Single Page Interface and AJAX Patterns.\" What is it? From the article... Single-Page Interface Model To take full advantage of AJAX, you need to have all of your features, or at least most of them, in a single page. This is known as the\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":1442,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/1442","url_meta":{"origin":458,"position":3},"title":"Nest Thermostat API\/Protocol","date":"January 8, 2012","format":false,"excerpt":"While Nest Labs hasn\u2019t released a formal (documented & supported) API, I thought I\u2019d do a bit of digging to see how they\u2019re using the network and what might be achievable. A few things are going on, the majority as you\u2019d probably expect. The web interface is using a long\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"image","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2012\/01\/image_thumb7.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":331,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/331","url_meta":{"origin":458,"position":4},"title":"Velocity &#8212; a rockin&#8217; distributed in memory cache for ASP.NET","date":"June 3, 2008","format":false,"excerpt":"Velocity, the code-name for a new in-memory distributed caching system for ASP.NET was released as a Community Tech Preview today. What is it? It's described in the documentation: Microsoft project code named \"Velocity\" provides a highly scalable in-memory application cache for all kinds of data. By using cache, your application\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"image","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image-thumb.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":1820,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/1820","url_meta":{"origin":458,"position":5},"title":"Knockout binding for JavaScript route fixup","date":"January 25, 2013","format":false,"excerpt":"Part one. After the first round, I felt compelled to KnockOut the code a bit more. I\u2019d mentioned I wasn\u2019t pleased with the code exactly. It needed some refactoring. So, I\u2019ve created a new Knockout binding handler. This binding handler replaces\u00a0 named parameters with a model\u2019s properties in a path.\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]}],"_links":{"self":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts\/458"}],"collection":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/comments?post=458"}],"version-history":[{"count":0,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts\/458\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/media?parent=458"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/categories?post=458"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/tags?post=458"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}