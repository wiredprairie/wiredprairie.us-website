{"id":394,"date":"2008-06-29T18:00:47","date_gmt":"2008-06-29T23:00:47","guid":{"rendered":"http:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/394"},"modified":"2008-06-29T18:00:47","modified_gmt":"2008-06-29T23:00:47","slug":"some-simple-silverlight-20-particles-with-sticky-tape","status":"publish","type":"post","link":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/394","title":{"rendered":"Some Simple Silverlight 2.0 Particles, with sticky tape &#8230;."},"content":{"rendered":"<p><a href=\"http:\/\/www.wiredprairie.us\/examples\/silverlight\/particles\/particles1.html\" target=\"_blank\"><img loading=\"lazy\" style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"370\" alt=\"image\" src=\"http:\/\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image26.png\" width=\"370\" border=\"0\"\/><\/a><\/p>\n<p>Live demo <a href=\"http:\/\/www.wiredprairie.us\/examples\/silverlight\/particles\/particles1.html\">here<\/a>. <\/p>\n<p>There are a few demos of using the HTML Canvas element floating around the web (which exists natively in WebKit, Firefox, and Opera and as a custom class using <a href=\"http:\/\/excanvas.sourceforge.net\/\">excanvas<\/a> for Internet Explorer). I was inspired to clone the particle demo using Silverlight (and add a silly sticky tape feature). <\/p>\n<p>My implementation went a bit overboard so the amount of code I wrote exceeds the original HTML+canvas implementation by several times. Those who like fields and types declared explicitly won&#8217;t mind the extra code length &#8212; those who are into dynamic languages and everything being declared on the fly won&#8217;t (as much). :)<\/p>\n<p>I used the <strong><a href=\"http:\/\/msdn.microsoft.com\/en-us\/library\/bb979930(VS.95).aspx\">Clip<\/a><\/strong> property of the <a href=\"http:\/\/msdn.microsoft.com\/en-us\/library\/bb979989(VS.95).aspx\">Canvas<\/a> to restrain any errant particles from leaving their host and a <a href=\"http:\/\/www.google.com\/url?sa=t&amp;ct=res&amp;cd=1&amp;url=http%3A%2F%2Fmsdn.microsoft.com%2Fen-us%2Flibrary%2Fsystem.windows.threading.dispatchertimer.aspx&amp;ei=MRNoSPuIOqKMiwGQ6JyDCw&amp;usg=AFQjCNE6BYHr6DL-Fe0QqiItofpOtZWMBw&amp;sig2=Sae25ryhTl73Kh845uvy5A\">DispatchTimer<\/a> to update the user interface.<\/p>\n<pre class=\"code\"><span style=\"color: #2b91af\">RectangleGeometry <\/span>clipper = <span style=\"color: blue\">new <\/span><span style=\"color: #2b91af\">RectangleGeometry<\/span>();\nclipper.Rect = <span style=\"color: blue\">new <\/span><span style=\"color: #2b91af\">Rect<\/span>(0, 0, <span style=\"color: blue\">this<\/span>.Width, <span style=\"color: blue\">this<\/span>.Height);\nLayoutRoot.Clip = clipper;\n\n<span style=\"color: #2b91af\">DispatcherTimer <\/span>tmr = <span style=\"color: blue\">new <\/span><span style=\"color: #2b91af\">DispatcherTimer<\/span>();\ntmr.Interval = <span style=\"color: #2b91af\">TimeSpan<\/span>.FromMilliseconds(10);\ntmr.Tick += <span style=\"color: blue\">new <\/span><span style=\"color: #2b91af\">EventHandler<\/span>(UpdateParticles);\ntmr.Start();<\/pre>\n<p><a href=\"http:\/\/11011.net\/software\/vspaste\"><\/a>The DispatchTimer becomes the &#8220;game loop&#8221;, and every 10 milliseconds moves the particles to their new position. <\/p>\n<p>I couldn&#8217;t find a way to get the current mouse position, so I tracked the mouse position manually. <em>If anyone knows of a method equivalent to Mouse.GetPosition in Silverlight, please leave a comment!<\/em><\/p>\n<p>The &#8220;Random&#8221; number generator burned me a few times when I created instances of the Random class and found that most of the particles all had the same starting position and vectors. The Random class in Silverlight uses the TickCount property of the Environment object to seed the Random number generator. By creating a bunch of instances nearly instantly, each was seeded with the same number &#8212; which means that the &#8220;random&#8221; number generator was generating the same numbers for each particle! My fix was to create a static instance of the Random class and reuse that over the lifetime of the Particle classes. Simple fix &#8212; and one of those &#8220;duh&#8221; moments.<\/p>\n<p><a href=\"http:\/\/www.wiredprairie.us\/examples\/silverlight\/particles\/ParticlesSource.zip\">Source code<\/a>.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Live demo here. There are a few demos of using the HTML Canvas element floating around the web (which exists natively in WebKit, Firefox, and Opera and as a custom class using excanvas for Internet Explorer). I was inspired to clone the particle demo using Silverlight (and add a silly sticky tape feature). My implementation [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false,"jetpack_publicize_feature_enabled":true},"categories":[4],"tags":[],"jetpack_publicize_connections":[],"jetpack_featured_media_url":"","jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/pd5QIe-6m","jetpack_likes_enabled":true,"jetpack-related-posts":[{"id":633,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/633","url_meta":{"origin":394,"position":0},"title":"A Silverlight 2 TilePanel","date":"December 14, 2008","format":false,"excerpt":"You may notice that the Silverlight TileBrush is missing some key properties which would enable it to actually tile a brush. The WPF TileBrush has properties such as TileMode, Viewbox, and ViewportUnits that can be used to tile an image as a fill or as a background for a UIElement.\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/12\/image1.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":723,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/723","url_meta":{"origin":394,"position":1},"title":"Silverlight Stopwatch class in C#","date":"March 1, 2009","format":false,"excerpt":"I needed a simple method for doing some timings in Silverlight. Silverlight lacks the high performance query counter that is available natively in Windows (and available in .NET 3.5 for example), but it does have a TickCount. My code (mostly) mirrors the existing .NET Stopwatch class using the TickCount property\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":426,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/426","url_meta":{"origin":394,"position":2},"title":"Visual WebGUI &#8212; Uh? Neat technology for someone else.","date":"July 16, 2008","format":false,"excerpt":"At the top of the page linked above, you can try the Ajax version or the Silverlight version of their web-mail demo. Try it. I won't say that I'm not impressed by what they've accomplished technically. It's impressive. They use a WinForms designer to build parts of the user interface\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"image","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/07\/image-thumb2.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":1084,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/1084","url_meta":{"origin":394,"position":3},"title":"Silverlight Analog\/Retro Flip Numbers","date":"June 9, 2010","format":false,"excerpt":"I\u2019m not sure what to call these exactly. I\u2019ve created a relatively simple Silverlight 4 control that emulates the old mechanical flip style numbers (or letters) displays found at airports and in old clock-radios. I call it the RetroFlipper. It\u2019s easy to use (at least for my needs). Declare an\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"image","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2010\/06\/image.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":388,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/388","url_meta":{"origin":394,"position":4},"title":"Silverlight Weather Demonstration","date":"June 26, 2008","format":false,"excerpt":"Demonstration available here. (You'll need to wait for a moment while it loads the first time). I've created a reasonably simple, yet multi-technology (and discipline) demonstration using Silverlight for the user interface and ASP.NET as the back-end. The demonstration uses: Silverlight 2.0 Data binding Delayed downloading of images \"Web services\"\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"https:\/\/i0.wp.com\/www.wiredprairie.us\/blog\/wp-content\/uploads\/2008\/06\/image21.png?resize=350%2C200","width":350,"height":200},"classes":[]},{"id":1162,"url":"https:\/\/www.wiredprairie.us\/blog\/index.php\/archives\/1162","url_meta":{"origin":394,"position":5},"title":"Silverlight to become Microsoft&rsquo;s next VB6?","date":"November 1, 2010","format":false,"excerpt":"There was a huge uproar in the tech blogs this past week regarding some comments made by Bob Muglia (of Microsoft) as reported by Mary Joe Foley in a post entitled, \u201cMicrosoft: Our Strategy with Silverlight has shifted.\u201d The quotes that caused the most ruckus are: \u201cSilverlight is our development\u2026","rel":"","context":"In &quot;Coding&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]}],"_links":{"self":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts\/394"}],"collection":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/comments?post=394"}],"version-history":[{"count":0,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/posts\/394\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/media?parent=394"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/categories?post=394"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.wiredprairie.us\/blog\/index.php\/wpjson\/wp\/v2\/tags?post=394"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}